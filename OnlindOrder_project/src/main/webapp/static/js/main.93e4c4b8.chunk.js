(this["webpackJsonpdoordash-app"]=this["webpackJsonpdoordash-app"]||[]).push([[0],{152:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(23),i=n.n(c),r=(n(152),n(33)),o=(n.p,n(239)),l=n(236),u=n(85),j=n(86),d=n(107),h=n(105),b=n(143),m=n(234),O=n(238),f=n(57),p=n(241),g=n(242),x=function(e){var t=e.username,n=e.password,a="/login?username=".concat(t,"&password=").concat(n);return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(console.log(e),e.status<200||e.status>=300)throw Error("Fail to log in")}))},y=function(e){return fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.status<200||e.status>=300)throw Error("Sign Up Fail!")}))},v=n(7),S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1},e.onFinish=function(t){console.log("Received values of form: ",t),e.setState({loading:!0}),x(t).then((function(){b.b.success("Login successful"),e.props.onSuccess()})).catch((function(e){console.log("sdsdsd"),b.b.error(e.message)})).finally((function(){e.setState({loading:!1})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(m.a,{name:"normal_login",style:{width:"300px",margin:"auto"},onFinish:this.onFinish,children:[Object(v.jsx)(m.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(v.jsx)(O.a,{prefix:Object(v.jsx)(p.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(v.jsx)(m.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(v.jsx)(O.a.Password,{prefix:Object(v.jsx)(g.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(v.jsx)(m.a.Item,{children:Object(v.jsx)(f.a,{type:"primary",htmlType:"submit",loading:this.state.loading,children:"Log in"})})]})}}]),n}(a.Component),w=S,C=n(237),F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={displayModal:!1},e.signupOnClick=function(){e.setState({displayModal:!0})},e.handleCancel=function(){e.setState({displayModal:!1})},e.onFinish=function(t){y(t).then((function(){e.setState({displayModal:!1}),b.b.success("Sign up successfully!")})).catch((function(e){b.b.error(e.message)}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(f.a,{shape:"square",type:"primary",onClick:this.signupOnClick,children:"Register"}),Object(v.jsx)(C.a,{title:"Register",visible:this.state.displayModal,onCancel:this.handleCancel,footer:null,destroyOnClose:!0,children:Object(v.jsxs)(m.a,{name:"Normal Registration",initialValues:{remember:!0},onFinish:this.onFinish,preserve:!1,children:[Object(v.jsx)(m.a.Item,{name:"email",rules:[{required:!0,message:"Please enter your email!"}],children:Object(v.jsx)(O.a,{prefix:Object(v.jsx)(p.a,{}),placeholder:"Email"})}),Object(v.jsx)(m.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password"}],children:Object(v.jsx)(O.a,{prefix:Object(v.jsx)(g.a,{}),placeholder:"Password"})}),Object(v.jsx)(m.a.Item,{name:"firstname",rules:[{required:!0,message:"Please enter your firstname!"}],children:Object(v.jsx)(O.a,{placeholder:"Firstname"})}),Object(v.jsx)(m.a.Item,{name:"lastname",rules:[{required:!0,message:"Please enter your lastname"}],children:Object(v.jsx)(O.a,{placeholder:"Lastname"})}),Object(v.jsx)(m.a.Item,{children:Object(v.jsx)(f.a,{type:"primary",htmlType:"submit",children:"Register"})})]})})]})}}]),n}(a.Component),I=F,P=n(240),T=n(235),k=l.a.Text,E=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(),i=Object(r.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(!1),j=Object(r.a)(u,2),d=j[0],h=j[1],m=Object(a.useState)(!1),O=Object(r.a)(m,2),p=O[0];O[1];Object(a.useEffect)((function(){n&&(h(!0),fetch("/cart").then((function(e){if(e.status<200||e.status>=300)throw Error("Fail to get shopping cart data");return e.json()})).then((function(e){l(e)})).catch((function(e){b.b.error(e.message)})).finally((function(){h(!1)})))}),[n]);var g=function(){s(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.a,{type:"primary",shape:"square",onClick:function(){s(!0)},children:"cart"}),Object(v.jsx)(P.a,{title:"My Shopping Cart",onClose:g,visible:n,width:520,footer:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsx)(k,{Strong:!0,children:"Total Price: $".concat(null===o||void 0===o?void 0:o.totalPrice)}),Object(v.jsxs)("div",{children:[Object(v.jsx)(f.a,{onClick:g,style:{marginRight:8},children:"Cancel"}),Object(v.jsx)(f.a,{onClick:g,style:{marginRight:8},type:"primary",loading:p,disable:d||0===(null===o||void 0===o?void 0:o.orderItemList),children:"Checkout"})]})]}),children:Object(v.jsx)(T.b,{loading:d,itemLayout:"horizontal",dataSource:null===o||void 0===o?void 0:o.orderItemList,renderItem:function(e){return Object(v.jsx)(T.b.Item,{children:Object(v.jsx)(T.b.Item.Meta,{title:e.menuItem.name,description:"$".concat(e.price)})})}})})]})},q=n(75),L=n(70),M=n(233),R=n(147),N=q.a.Option,U=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),s=n[0],c=n[1];return Object(v.jsx)(L.a,{title:"Add to shopping cart",children:Object(v.jsx)(f.a,{loading:s,type:"primary",icon:Object(v.jsx)(R.a,{}),onClick:function(){c(!0),function(e){var t="/order/".concat(e);return fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(e.status<200||e.status>=300)throw Error("Fail to add item to shipping cart")}))}(e).then((function(){b.b.success("Successfully add item")})).catch((function(e){b.b.error(e.message)})).finally((function(){c(!1)}))}})})},A=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),i=Object(r.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(),j=Object(r.a)(u,2),d=j[0],h=j[1],m=Object(a.useState)(!1),O=Object(r.a)(m,2),f=O[0],p=(O[1],Object(a.useState)([])),g=Object(r.a)(p,2),x=g[0];g[1];return Object(a.useEffect)((function(){s(!0),fetch("restaurant/").then((function(e){if(e.status<200||e.status>=300)throw Error("Fail to get restaurant");return e.json()})).then((function(e){l(e)})).catch((function(e){b.b.error(e.message)})).finally((function(){s(!1)}))}),[]),Object(a.useEffect)((function(){})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(q.a,{restId:d,onSelect:function(e){return h(e)},placeholder:"Select a restaurant",loading:f,style:{width:300},onChange:function(){},children:o.map((function(e){return Object(v.jsx)(N,{value:e.id,children:e.name})}))}),d&&Object(v.jsx)(T.b,{style:{marginTop:20},loading:n,grid:{gutter:16,xs:1,sm:2,md:4,lg:5,xl:3,xxl:3},dataSource:x,renderItem:function(e){return Object(v.jsx)(T.b.Item,{children:Object(v.jsxs)(M.a,{title:e.name,extra:Object(v.jsx)(U,{itemId:e.id}),children:[Object(v.jsx)("img",{src:e.imageUrl,alt:e.name,style:{height:340,width:"100%",display:"block"}}),"Price: ".concat(e.price)]})})}})]})},B=(n(230),o.a.Header),H=o.a.Content,J=l.a.Title;var z=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(v.jsxs)(o.a,{style:{height:"100vh"},children:[Object(v.jsx)(B,{children:Object(v.jsxs)("div",{className:"header",children:[Object(v.jsx)(J,{level:2,style:{color:"white",lineHeight:"inherit",marginButtom:0,fontWeight:"bold",fontSize:35,fontFamily:"Times New Roman"},children:"Food Order"}),Object(v.jsx)("div",{children:n?Object(v.jsx)(E,{}):Object(v.jsx)(I,{})})]})}),Object(v.jsx)(H,{style:{padding:"50px",maxHeight:"calc(100% - 64px)",overflowY:"auto"},children:n?Object(v.jsxs)("div",{children:[" ",Object(v.jsx)(A,{})]}):Object(v.jsx)(w,{onSuccess:function(){return s(!0)}})})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,243)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(z,{})}),document.getElementById("root")),$()}},[[231,1,2]]]);
//# sourceMappingURL=main.93e4c4b8.chunk.js.map